<!-- customer.component.html -->
<div class="customer-table-container">
    <table class="customer-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Avatar</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customers" class="customer-row">
            <td class="customer-name-cell">
                <div class="customer-name-wrapper">
                  {{ customer.name }}
                </div>
              </td>
          <td class="customer-avatar-cell">
            <img 
            [defaultImage]="defaultImage"
              [appDefaultImg]="customer.photoUrl"
        
              alt="{{ customer.name }}" 
              class="customer-avatar-img" />
          </td>
          <td class="customer-email-cell">
            <a *ngIf="customer.email" [href]="'mailto:' + customer.email" class="customer-email-link">
              {{ customer.email }}
            </a>
            <span *ngIf="!customer.email">No email</span>
          </td>
          <td class="customer-phone-cell">
            {{ customer.phoneNumber || 'No phone' }}
          </td>
          <td class="customer-status-cell">
            <button class="suspend-btn" 
                    (click)="toggleSuspension(customer)"
                    [class.suspended]="customer.isSuspended"
                    [disabled]="actionInProgress === customer.id">
              {{ customer.isSuspended ? 'Re-Activate' : 'Suspend' }}
              <span *ngIf="actionInProgress === customer.id" class="btn-spinner"></span>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  
    <div *ngIf="isLoading" class="loading">Loading customers...</div>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  </div>